<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Connexion MetaMask</title>
</head>
<body style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column; font-family: Arial;">
  <h2>Connecter MetaMask</h2>
  <button id="connectBtn" style="padding: 12px 24px; font-size: 16px;">ü¶ä Connexion</button>
  <p id="result" style="margin-top: 20px; font-weight: bold;"></p>

  <script>
    const connectBtn = document.getElementById("connectBtn");
    const result = document.getElementById("result");

    connectBtn.addEventListener("click", async () => {
      // V√©rifie si MetaMask est install√©
      if (typeof window.ethereum === "undefined") {
        result.textContent = "‚ùå MetaMask non d√©tect√©. Installe-le dans ton navigateur.";
        return;
      }

      try {
        // Demande la connexion
        const accounts = await window.ethereum.request({
          method: "eth_requestAccounts"
        });

        // Si accept√©
        const userAddress = accounts[0];
        result.textContent = "‚úÖ Connect√© √† l'adresse : " + userAddress;
      } catch (error) {
        // Si refus ou erreur
        if (error.code === 4001) {
          result.textContent = "‚ùå Connexion refus√©e.";
        } else {
          console.error(error);
          result.textContent = "‚ùå Erreur lors de la connexion.";
        }
      }
    });
  </script>
</body>
</html>
